<!DOCTYPE HTML>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Rendering HTML – Ema</title><meta name="description" content="Ema static site generator (Jamstack) in Haskell"><link href="/ema.svg" rel="icon" /><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#d53f8c"><link href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-tomorrow.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/combine/npm/prismjs@1.23.0/prism.min.js,npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/combine/npm/twind/twind.umd.min.js,npm/twind/observe/observe.umd.min.js"></script><script type="text/javascript">twind.setup({})
twindObserve.observe(document.documentElement)</script></head><body><div class="flex justify-center p-4 bg-red-500 text-gray-100 font-bold text-2xl"><div><b>WIP: </b>Documentation is still being written</div></div><div class="container mx-auto xl:max-w-screen-lg"><div class="px-2"><div class="w-full text-gray-600 mt-4"><div class="flex justify-center"><div class="w-full bg-white py-2 rounded"><ul class="flex text-gray-500 text-sm lg:text-base"><li class="inline-flex items-center"><a class="px-1 font-bold bg-pink-500 text-gray-50 rounded" href="/">Ema</a><svg fill="currentColor" viewBox="0 0 20 20" class="h-5 w-auto text-gray-400"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></li><li class="inline-flex items-center"><a class="px-1 font-bold bg-pink-500 text-gray-50 rounded" href="/guide">Guide</a><svg fill="currentColor" viewBox="0 0 20 20" class="h-5 w-auto text-gray-400"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></li><li class="inline-flex items-center text-gray-600"><a>Rendering HTML</a></li></ul></div></div></div><h1 class="text-6xl my-2 text-center py-2" id="rendering-html">Rendering HTML</h1><p class="my-2">Once you have <a class="text-pink-600 font-bold hover:bg-pink-50" href="/guide/model" title="">model</a> and <a class="text-pink-600 font-bold hover:bg-pink-50" href="/guide/routes" title="">routes</a> in place, the last piece of the puzzle is to write a function that takes both as arguments and returns the HTML string (lazy bytestring, to be exact). This function can be as simple as the following:</p><pre class="haskell language-haskell"><code class="haskell language-haskell">render :: MyModel -&gt; Route -&gt; ByteString
render model route =
  &quot;&lt;b&gt;Hello&lt;/b&gt;, world!&quot;</code></pre><p class="my-2">Of course we want it to be real, by using our model value, as well as generate the HTML based on the route. We will also use the <a class="text-pink-600 hover:underline" href="https://hackage.haskell.org/package/blaze-html" title="" target="_blank" rel="noopener">blaze-html</a> library to make writing HTML in Haskell palatable. A more realistic starting point (if not the finishing product) would be:</p><pre class="haskell language-haskell"><code class="haskell language-haskell">render :: MyModel -&gt; Route -&gt; ByteString 
render model route = Blaze.renderHtml $ 
  H.html $ do 
    H.head $ do 
      H.title &quot;My site&quot;
    H.body $ do 
      H.h1 &quot;My site&quot;
      case route of 
        Index -&gt; 
          H.h1 &quot;Welcome to my website!&quot;
          H.p $ do 
            &quot;Checkout the&quot;
            H.a ! A.href (Ema.routeUrl About) $ &quot;About&quot;
            &quot; page.&quot;
        About -&gt;
          H.div $ H.p &quot;This website is managed by yours truly&quot;
      H.footer $ do 
        A.a ! A.href &quot;https://github.com/user/repo&quot; $ &quot;Source on GitHub&quot;</code></pre><p class="my-2">Note that Ema provides a <code>routeUrl</code> helper function that serializes your route to the final URL (here, <code>/about</code>) for linking to.</p><p class="my-2">Spend a few moments to recognize how this is <em>much simpler</em> to write than dealing with HTML template files spread across the disk as is the case with traditional static site generators. Of course when using Ema nothing prevents you from choosing to use traditional HTML templates (see <a class="text-pink-600 font-bold hover:bg-pink-50" href="/guide/filesystem" title="">working with files</a> for tips on that). But if you choose instead to go the DSL route, <a class="text-pink-600 font-bold hover:bg-pink-50" href="/concepts/haskell-safety" title="">Haskell’s type-safety</a> now applies to your HTML as well. On top of it, Ema’s <a class="text-pink-600 font-bold hover:bg-pink-50" href="/concepts/hot-reload" title="">hot reload</a> will instantly update the dev server’s browser view whenever you change your HTML (or any of the Haskell source code).</p><div class="mt-8 border-t-2 border-pink-500 pb-1 pl-1 bg-gray-50 rounded"><p class="my-2"><span class="py-2 text-xl italic font-bold">Next</span>, you might want to peruse <a class="text-pink-600 font-bold hover:bg-pink-50" href="/guide" title="">the helper topics</a> in the parent section.</p></div></div><footer class="mt-8 text-center text-gray-500">Powered by <a class="font-bold" target="blank" rel="noopener" href="https://github.com/srid/ema">Ema</a></footer></div></body></html>